-- Assignmnet
CREATE TABLE Assignment(
    C_code CHAR(8) NOT NULL,
    C_type ENUM('P','T') NOT NULL,
    Regno CHAR(12) NOT NULL,
    A_mark FLOAT(5,2) NOT NULL CHECK (A_mark >= 0 AND A_mark <= 100),
    A_no INT NOT NULL,

    PRIMARY KEY(C_code, C_type, Regno, A_no),
    
    -- Foreign key 1: Relate to the Course
    CONSTRAINT fk_AssignmentCourse FOREIGN KEY(C_code, C_type) 
        REFERENCES Course(C_code, C_type) 
        ON UPDATE CASCADE, 
    
    -- Foreign key 2: Relate to the Student 
    CONSTRAINT fk_AssignmentStudent FOREIGN KEY(Regno) 
        REFERENCES User(User_id)
        ON UPDATE CASCADE ON DELETE CASCADE
);

+--------+---------------+------+-----+---------+-------+
| Field  | Type          | Null | Key | Default | Extra |
+--------+---------------+------+-----+---------+-------+
| C_code | char(8)       | NO   | PRI | NULL    |       |
| C_type | enum('P','T') | NO   | PRI | NULL    |       |
| Regno  | char(12)      | NO   | PRI | NULL    |       |
| A_mark | float(5,2)    | NO   |     | NULL    |       |
| A_no   | int           | NO   | PRI | NULL    |       |
+--------+---------------+------+-----+---------+-------+

-- insert data
INSERT INTO Assignment
	(Regno,C_code,C_type,A_no,A_mark)
VALUES
	('TG/2023/001','ENG1222','T',1,75),
	('TG/2023/001','ICT1212','T',1,58),
	('TG/2023/001','ICT1242','T',1,90),
	('TG/2023/001','ICT1233','T',1,65),
	('TG/2023/001','ICT1253','T',1,45),
	('TG/2023/001','TCS1212','T',1,79),
	('TG/2023/001','TMS1233','T',1,89),
	('TG/2023/002','ENG1222','T',1,85),
	('TG/2023/002','ICT1212','T',1,58),
	('TG/2023/002','ICT1242','T',1,76),
	('TG/2023/002','ICT1233','T',1,63),
	('TG/2023/002','ICT1253','T',1,79),
	('TG/2023/002','TCS1212','T',1,70),
	('TG/2023/002','TMS1233','T',1,91),
	('TG/2023/003','ENG1222','T',1,32),
	('TG/2023/003','ICT1212','T',1,58),
	('TG/2023/003','ICT1242','T',1,70),
	('TG/2023/003','ICT1233','T',1,65),
	('TG/2023/003','ICT1253','T',1,45),
	('TG/2023/003','TCS1212','T',1,79),
	('TG/2023/003','TMS1233','T',1,85),
	('TG/2023/004','ENG1222','T',1,75),
	('TG/2023/004','ICT1212','T',1,62),
	('TG/2023/004','ICT1242','T',1,38),
	('TG/2023/004','ICT1233','T',1,65),
	('TG/2023/004','ICT1253','T',1,45),
	('TG/2023/004','TCS1212','T',1,90),
	('TG/2023/004','TMS1233','T',1,80),
	('TG/2023/005','ENG1222','T',1,75),
	('TG/2023/005','ICT1212','T',1,88),
	('TG/2023/005','ICT1242','T',1,90),
	('TG/2023/005','ICT1233','T',1,75),
	('TG/2023/005','ICT1253','T',1,45),
	('TG/2023/005','TCS1212','T',1,79),
	('TG/2023/005','TMS1233','T',1,86),
	('TG/2023/006','ENG1222','T',1,95),
	('TG/2023/006','ICT1212','T',1,58),
	('TG/2023/006','ICT1242','T',1,90),
	('TG/2023/006','ICT1233','T',1,65),
	('TG/2023/006','ICT1253','T',1,45),
	('TG/2023/006','TCS1212','T',1,79),
	('TG/2023/006','TMS1233','T',1,75),
	('TG/2023/007','ENG1222','T',1,75),
	('TG/2023/007','ICT1212','T',1,58),
	('TG/2023/007','ICT1242','T',1,60),
	('TG/2023/007','ICT1233','T',1,65),
	('TG/2023/007','ICT1253','T',1,45),
	('TG/2023/007','TCS1212','T',1,69),
	('TG/2023/007','TMS1233','T',1,70),
	('TG/2023/008','ENG1222','T',1,75),
	('TG/2023/008','ICT1212','T',1,88),
	('TG/2023/008','ICT1242','T',1,70),
	('TG/2023/008','ICT1233','T',1,85),
	('TG/2023/008','ICT1253','T',1,65),
	('TG/2023/008','TCS1212','T',1,79),
	('TG/2023/008','TMS1233','T',1,80),
	('TG/2023/009','ENG1222','T',1,95),
	('TG/2023/009','ICT1212','T',1,78),
	('TG/2023/009','ICT1242','T',1,60),
	('TG/2023/009','ICT1233','T',1,59),
	('TG/2023/009','ICT1253','T',1,69),
	('TG/2023/009','TCS1212','T',1,75),
	('TG/2023/009','TMS1233','T',1,88),
	('TG/2023/010','ENG1222','T',1,83),
	('TG/2023/010','ICT1212','T',1,64),
	('TG/2023/010','ICT1242','T',1,76),
	('TG/2023/010','ICT1233','T',1,90),
	('TG/2023/010','ICT1253','T',1,82),
	('TG/2023/010','TCS1212','T',1,80),
	('TG/2023/010','TMS1233','T',1,91),
	('TG/2021/023','ICT1242','T',1,65),
	('TG/2021/088','TMS1233','T',1,70);

    +---------+--------+-------------+--------+------+
| C_code  | C_type | Regno       | A_mark | A_no |
+---------+--------+-------------+--------+------+
| ENG1222 | T      | TG/2023/001 |  75.00 |    1 |
| ENG1222 | T      | TG/2023/002 |  85.00 |    1 |
| ENG1222 | T      | TG/2023/003 |  32.00 |    1 |
| ENG1222 | T      | TG/2023/004 |  75.00 |    1 |
| ENG1222 | T      | TG/2023/005 |  75.00 |    1 |
| ENG1222 | T      | TG/2023/006 |  95.00 |    1 |
| ENG1222 | T      | TG/2023/007 |  75.00 |    1 |
| ENG1222 | T      | TG/2023/008 |  75.00 |    1 |
| ENG1222 | T      | TG/2023/009 |  95.00 |    1 |
| ENG1222 | T      | TG/2023/010 |  83.00 |    1 |
| ICT1212 | T      | TG/2023/001 |  58.00 |    1 |
| ICT1212 | T      | TG/2023/002 |  58.00 |    1 |
| ICT1212 | T      | TG/2023/003 |  58.00 |    1 |
| ICT1212 | T      | TG/2023/004 |  62.00 |    1 |
| ICT1212 | T      | TG/2023/005 |  88.00 |    1 |
| ICT1212 | T      | TG/2023/006 |  58.00 |    1 |
| ICT1212 | T      | TG/2023/007 |  58.00 |    1 |
| ICT1212 | T      | TG/2023/008 |  88.00 |    1 |
| ICT1212 | T      | TG/2023/009 |  78.00 |    1 |
| ICT1212 | T      | TG/2023/010 |  64.00 |    1 |
| ICT1233 | T      | TG/2023/001 |  65.00 |    1 |
| ICT1233 | T      | TG/2023/002 |  63.00 |    1 |
| ICT1233 | T      | TG/2023/003 |  65.00 |    1 |
| ICT1233 | T      | TG/2023/004 |  65.00 |    1 |
| ICT1233 | T      | TG/2023/005 |  75.00 |    1 |
| ICT1233 | T      | TG/2023/006 |  65.00 |    1 |
| ICT1233 | T      | TG/2023/007 |  65.00 |    1 |
| ICT1233 | T      | TG/2023/008 |  85.00 |    1 |
| ICT1233 | T      | TG/2023/009 |  59.00 |    1 |
| ICT1233 | T      | TG/2023/010 |  90.00 |    1 |
| ICT1242 | T      | TG/2021/023 |  65.00 |    1 |
| ICT1242 | T      | TG/2023/001 |  90.00 |    1 |
| ICT1242 | T      | TG/2023/002 |  76.00 |    1 |
| ICT1242 | T      | TG/2023/003 |  70.00 |    1 |
| ICT1242 | T      | TG/2023/004 |  38.00 |    1 |
| ICT1242 | T      | TG/2023/005 |  90.00 |    1 |
| ICT1242 | T      | TG/2023/006 |  90.00 |    1 |
| ICT1242 | T      | TG/2023/007 |  60.00 |    1 |
| ICT1242 | T      | TG/2023/008 |  70.00 |    1 |
| ICT1242 | T      | TG/2023/009 |  60.00 |    1 |
| ICT1242 | T      | TG/2023/010 |  76.00 |    1 |
| ICT1253 | T      | TG/2023/001 |  45.00 |    1 |
| ICT1253 | T      | TG/2023/002 |  79.00 |    1 |
| ICT1253 | T      | TG/2023/003 |  45.00 |    1 |
| ICT1253 | T      | TG/2023/004 |  45.00 |    1 |
| ICT1253 | T      | TG/2023/005 |  45.00 |    1 |
| ICT1253 | T      | TG/2023/006 |  45.00 |    1 |
| ICT1253 | T      | TG/2023/007 |  45.00 |    1 |
| ICT1253 | T      | TG/2023/008 |  65.00 |    1 |
| ICT1253 | T      | TG/2023/009 |  69.00 |    1 |
| ICT1253 | T      | TG/2023/010 |  82.00 |    1 |
| TCS1212 | T      | TG/2023/001 |  79.00 |    1 |
| TCS1212 | T      | TG/2023/002 |  70.00 |    1 |
| TCS1212 | T      | TG/2023/003 |  79.00 |    1 |
| TCS1212 | T      | TG/2023/004 |  90.00 |    1 |
| TCS1212 | T      | TG/2023/005 |  79.00 |    1 |
| TCS1212 | T      | TG/2023/006 |  79.00 |    1 |
| TCS1212 | T      | TG/2023/007 |  69.00 |    1 |
| TCS1212 | T      | TG/2023/008 |  79.00 |    1 |
| TCS1212 | T      | TG/2023/009 |  75.00 |    1 |
| TCS1212 | T      | TG/2023/010 |  80.00 |    1 |
| TMS1233 | T      | TG/2021/088 |  70.00 |    1 |
| TMS1233 | T      | TG/2023/001 |  89.00 |    1 |
| TMS1233 | T      | TG/2023/002 |  91.00 |    1 |
| TMS1233 | T      | TG/2023/003 |  85.00 |    1 |
| TMS1233 | T      | TG/2023/004 |  80.00 |    1 |
| TMS1233 | T      | TG/2023/005 |  86.00 |    1 |
| TMS1233 | T      | TG/2023/006 |  75.00 |    1 |
| TMS1233 | T      | TG/2023/007 |  70.00 |    1 |
| TMS1233 | T      | TG/2023/008 |  80.00 |    1 |
| TMS1233 | T      | TG/2023/009 |  88.00 |    1 |
| TMS1233 | T      | TG/2023/010 |  91.00 |    1 |
+---------+--------+-------------+--------+------+


