-- End
CREATE TABLE End_exam(
    C_code CHAR(8) NOT NULL,
    C_type ENUM('P','T') NOT NULL,
    Regno CHAR(12) NOT NULL,
    End_mark FLOAT(9,2) NOT NULL CHECK (End_mark >= 0 AND End_mark <= 100),

    PRIMARY KEY(C_code, C_type, Regno),
    
    -- Foreign key 1: Relate to the Course
    CONSTRAINT fk_EndCourse FOREIGN KEY(C_code, C_type) 
        REFERENCES Course(C_code, C_type)
        ON UPDATE CASCADE, 

    -- Foreign key 2: Relate to the Student
    CONSTRAINT fk_EndStudent FOREIGN KEY(Regno) 
        REFERENCES User(User_id) 
        ON UPDATE CASCADE ON DELETE CASCADE
);

+----------+---------------+------+-----+---------+-------+
| Field    | Type          | Null | Key | Default | Extra |
+----------+---------------+------+-----+---------+-------+
| C_code   | char(8)       | NO   | PRI | NULL    |       |
| C_type   | enum('P','T') | NO   | PRI | NULL    |       |
| Regno    | char(12)      | NO   | PRI | NULL    |       |
| End_mark | float(9,2)    | NO   |     | NULL    |       |
+----------+---------------+------+-----+---------+-------+

-- insert data
INSERT INTO End_Exam(Regno, C_code, C_type, End_Mark) VALUES
('TG/2023/001','ICT1233','T', 80.0),
('TG/2023/001','ICT1233','P', 88.5),
('TG/2023/001','ICT1253','T', 90.0),
('TG/2023/001','ICT1253','P', 77.5),
('TG/2023/001','ICT1242','T', 82.0),
('TG/2023/001','TMS1233','T', 65.0),
('TG/2023/001','ICT1212','T', 90.0),
('TG/2023/001','ICT1222','P', 62.0),
('TG/2023/001','TCS1212','T', 87.5),
('TG/2023/001','ENG1222','T', 95.0),

('TG/2023/002','ICT1233','T', 78.0),
('TG/2023/002','ICT1233','P', 88.0),
('TG/2023/002','ICT1253','T', 68.0),
('TG/2023/002','ICT1253','P', 70.5),
('TG/2023/002','ICT1242','T', 77.0),
('TG/2023/002','TMS1233','T', 61.5),
('TG/2023/002','ICT1212','T', 73.0),
('TG/2023/002','ICT1222','P', 52.0),
('TG/2023/002','TCS1212','T', 87.0),
('TG/2023/002','ENG1222','T', 75.5),

('TG/2023/003','ICT1233','T', 68.5),
('TG/2023/003','ICT1233','P', 59.5),
('TG/2023/003','ICT1253','T', 63.0),
('TG/2023/003','ICT1253','P', 78.0),
('TG/2023/003','ICT1242','T', 58.5),
('TG/2023/003','TMS1233','T', 82.5),
('TG/2023/003','ICT1212','T', 80.0),
('TG/2023/003','ICT1222','P', 85.0),
('TG/2023/003','TCS1212','T', 87.0),
('TG/2023/003','ENG1222','T', 70.0),

('TG/2023/004','ICT1233','T', 76.0),
('TG/2023/004','ICT1233','P', 75.5),
('TG/2023/004','ICT1253','T', 89.5),

('TG/2023/004','ICT1242','T', 82.0),
('TG/2023/004','TMS1233','T', 87.0),
('TG/2023/004','ICT1212','T', 56.5),
('TG/2023/004','ICT1222','P', 90.5),
('TG/2023/004','TCS1212','T', 86.0),
('TG/2023/004','ENG1222','T', 88.5),

('TG/2023/005','ICT1233','T', 78.5),
('TG/2023/005','ICT1233','P', 79.5),
('TG/2023/005','ICT1253','T', 79.5),
('TG/2023/005','ICT1253','P', 85.0),
('TG/2023/005','ICT1242','T', 76.0),
('TG/2023/005','TMS1233','T', 78.5),
('TG/2023/005','ICT1212','T', 57.5),
('TG/2023/005','ICT1222','P', 67.5),
('TG/2023/005','TCS1212','T', 85.0),
('TG/2023/005','ENG1222','T', 95.0),

('TG/2023/006','ICT1233','T', 69.5),
('TG/2023/006','ICT1233','P', 86.0),
('TG/2023/006','ICT1253','T', 84.5),
('TG/2023/006','ICT1253','P', 84.0),
('TG/2023/006','ICT1242','T', 68.0),
('TG/2023/006','TMS1233','T', 78.5),
('TG/2023/006','ICT1212','T', 84.0),
('TG/2023/006','ICT1222','P', 77.5),
('TG/2023/006','TCS1212','T', 78.5),
('TG/2023/006','ENG1222','T', 85.0),

('TG/2023/007','ICT1233','T', 74.5),
('TG/2023/007','ICT1233','P', 72.0),

('TG/2023/007','ICT1253','P', 59.0),
('TG/2023/007','ICT1242','T', 63.5),
('TG/2023/007','TMS1233','T', 97.5),
('TG/2023/007','ICT1212','T', 80.0),
('TG/2023/007','ICT1222','P', 61.0),
('TG/2023/007','TCS1212','T', 78.5),
('TG/2023/007','ENG1222','T', 82.5),

('TG/2023/008','ICT1233','T', 85.0),
('TG/2023/008','ICT1233','P', 62.0),
('TG/2023/008','ICT1253','T', 71.5),
('TG/2023/008','ICT1253','P', 68.0),
('TG/2023/008','TMS1233','T', 90.5),
('TG/2023/008','ICT1212','T', 58.0),
('TG/2023/008','TCS1212','T', 72.5),
('TG/2023/008','ENG1222','T', 94.5),

('TG/2023/009','ICT1233','T', 67.0),
('TG/2023/009','ICT1233','P', 70.0),
('TG/2023/009','ICT1253','T', 67.0),
('TG/2023/009','ICT1253','P', 78.5),
('TG/2023/009','ICT1242','T', 57.5),
('TG/2023/009','TMS1233','T', 85.0),
('TG/2023/009','ICT1212','T', 78.5),
('TG/2023/009','ICT1222','P', 62.5),
('TG/2023/009','TCS1212','T', 85.0),
('TG/2023/009','ENG1222','T', 66.0),

('TG/2023/010','ICT1233','T', 85.0),
('TG/2023/010','ICT1233','P', 76.0),
('TG/2023/010','ICT1253','P', 90.5),
('TG/2023/010','ICT1242','T', 80.5),
('TG/2023/010','TMS1233','T', 83.5),
('TG/2023/010','ICT1212','T', 50.0),
('TG/2023/010','ICT1222','P', 78.0),
('TG/2023/010','TCS1212','T', 76.0),
('TG/2023/010','ENG1222','T', 88.0),

('TG/2021/023','ICT1242','T', 88.0),

('TG/2021/088','TMS1233','T', 95.0);

+---------+--------+-------------+----------+
| C_code  | C_type | Regno       | End_mark |
+---------+--------+-------------+----------+
| ENG1222 | T      | TG/2023/001 |    95.00 |
| ENG1222 | T      | TG/2023/002 |    75.50 |
| ENG1222 | T      | TG/2023/003 |    70.00 |
| ENG1222 | T      | TG/2023/004 |    88.50 |
| ENG1222 | T      | TG/2023/005 |    95.00 |
| ENG1222 | T      | TG/2023/006 |    85.00 |
| ENG1222 | T      | TG/2023/007 |    82.50 |
| ENG1222 | T      | TG/2023/008 |    94.50 |
| ENG1222 | T      | TG/2023/009 |    66.00 |
| ENG1222 | T      | TG/2023/010 |    88.00 |
| ICT1212 | T      | TG/2023/001 |    90.00 |
| ICT1212 | T      | TG/2023/002 |    73.00 |
| ICT1212 | T      | TG/2023/003 |    80.00 |
| ICT1212 | T      | TG/2023/004 |    56.50 |
| ICT1212 | T      | TG/2023/005 |    57.50 |
| ICT1212 | T      | TG/2023/006 |    84.00 |
| ICT1212 | T      | TG/2023/007 |    80.00 |
| ICT1212 | T      | TG/2023/008 |    58.00 |
| ICT1212 | T      | TG/2023/009 |    78.50 |
| ICT1212 | T      | TG/2023/010 |    50.00 |
| ICT1222 | P      | TG/2023/001 |    62.00 |
| ICT1222 | P      | TG/2023/002 |    52.00 |
| ICT1222 | P      | TG/2023/003 |    85.00 |
| ICT1222 | P      | TG/2023/004 |    90.50 |
| ICT1222 | P      | TG/2023/005 |    67.50 |
| ICT1222 | P      | TG/2023/006 |    77.50 |
| ICT1222 | P      | TG/2023/007 |    61.00 |
| ICT1222 | P      | TG/2023/009 |    62.50 |
| ICT1222 | P      | TG/2023/010 |    78.00 |
| ICT1233 | P      | TG/2023/001 |    88.50 |
| ICT1233 | P      | TG/2023/002 |    88.00 |
| ICT1233 | P      | TG/2023/003 |    59.50 |
| ICT1233 | P      | TG/2023/004 |    75.50 |
| ICT1233 | P      | TG/2023/005 |    79.50 |
| ICT1233 | P      | TG/2023/006 |    86.00 |
| ICT1233 | P      | TG/2023/007 |    72.00 |
| ICT1233 | P      | TG/2023/008 |    62.00 |
| ICT1233 | P      | TG/2023/009 |    70.00 |
| ICT1233 | P      | TG/2023/010 |    76.00 |
| ICT1233 | T      | TG/2023/001 |    80.00 |
| ICT1233 | T      | TG/2023/002 |    78.00 |
| ICT1233 | T      | TG/2023/003 |    68.50 |
| ICT1233 | T      | TG/2023/004 |    76.00 |
| ICT1233 | T      | TG/2023/005 |    78.50 |
| ICT1233 | T      | TG/2023/006 |    69.50 |
| ICT1233 | T      | TG/2023/007 |    74.50 |
| ICT1233 | T      | TG/2023/008 |    85.00 |
| ICT1233 | T      | TG/2023/009 |    67.00 |
| ICT1233 | T      | TG/2023/010 |    85.00 |
| ICT1242 | T      | TG/2021/023 |    88.00 |
| ICT1242 | T      | TG/2023/001 |    82.00 |
| ICT1242 | T      | TG/2023/002 |    77.00 |
| ICT1242 | T      | TG/2023/003 |    58.50 |
| ICT1242 | T      | TG/2023/004 |    82.00 |
| ICT1242 | T      | TG/2023/005 |    76.00 |
| ICT1242 | T      | TG/2023/006 |    68.00 |
| ICT1242 | T      | TG/2023/007 |    63.50 |
| ICT1242 | T      | TG/2023/009 |    57.50 |
| ICT1242 | T      | TG/2023/010 |    80.50 |
| ICT1253 | P      | TG/2023/001 |    77.50 |
| ICT1253 | P      | TG/2023/002 |    70.50 |
| ICT1253 | P      | TG/2023/003 |    78.00 |
| ICT1253 | P      | TG/2023/005 |    85.00 |
| ICT1253 | P      | TG/2023/006 |    84.00 |
| ICT1253 | P      | TG/2023/007 |    59.00 |
| ICT1253 | P      | TG/2023/008 |    68.00 |
| ICT1253 | P      | TG/2023/009 |    78.50 |
| ICT1253 | P      | TG/2023/010 |    90.50 |
| ICT1253 | T      | TG/2023/001 |    90.00 |
| ICT1253 | T      | TG/2023/002 |    68.00 |
| ICT1253 | T      | TG/2023/003 |    63.00 |
| ICT1253 | T      | TG/2023/004 |    89.50 |
| ICT1253 | T      | TG/2023/005 |    79.50 |
| ICT1253 | T      | TG/2023/006 |    84.50 |
| ICT1253 | T      | TG/2023/008 |    71.50 |
| ICT1253 | T      | TG/2023/009 |    67.00 |
| TCS1212 | T      | TG/2023/001 |    87.50 |
| TCS1212 | T      | TG/2023/002 |    87.00 |
| TCS1212 | T      | TG/2023/003 |    87.00 |
| TCS1212 | T      | TG/2023/004 |    86.00 |
| TCS1212 | T      | TG/2023/005 |    85.00 |
| TCS1212 | T      | TG/2023/006 |    78.50 |
| TCS1212 | T      | TG/2023/007 |    78.50 |
| TCS1212 | T      | TG/2023/008 |    72.50 |
| TCS1212 | T      | TG/2023/009 |    85.00 |
| TCS1212 | T      | TG/2023/010 |    76.00 |
| TMS1233 | T      | TG/2021/088 |    95.00 |
| TMS1233 | T      | TG/2023/001 |    65.00 |
| TMS1233 | T      | TG/2023/002 |    61.50 |
| TMS1233 | T      | TG/2023/003 |    82.50 |
| TMS1233 | T      | TG/2023/004 |    87.00 |
| TMS1233 | T      | TG/2023/005 |    78.50 |
| TMS1233 | T      | TG/2023/006 |    78.50 |
| TMS1233 | T      | TG/2023/007 |    97.50 |
| TMS1233 | T      | TG/2023/008 |    90.50 |
| TMS1233 | T      | TG/2023/009 |    85.00 |
| TMS1233 | T      | TG/2023/010 |    83.50 |
+---------+--------+-------------+----------+