-- Quiz
CREATE TABLE Quiz(
    C_code CHAR(8) NOT NULL,
    C_type ENUM('P','T') NOT NULL,
    Regno CHAR(12) NOT NULL,
    Mark FLOAT(5,2) CHECK (Mark >= 0 AND Mark <= 100),
    Q_no INT NOT NULL CHECK (Q_no >= 1 AND Q_no <= 3),

    PRIMARY KEY(C_code, C_type, Regno, Q_no),

    -- Foreign_Key 1: Relate to the course
    CONSTRAINT fk_QCourse FOREIGN KEY(C_code, C_type) REFERENCES Course(C_code, C_type)
    ON UPDATE CASCADE,

    -- FOREIGN_KEY 2: Relate to the student
    CONSTRAINT fk_Qregno FOREIGN KEY(Regno) REFERENCES User(User_id)
    ON UPDATE CASCADE ON DELETE CASCADE
);

+--------+---------------+------+-----+---------+-------+
| Field  | Type          | Null | Key | Default | Extra |
+--------+---------------+------+-----+---------+-------+
| C_code | char(8)       | NO   | PRI | NULL    |       |
| C_type | enum('P','T') | NO   | PRI | NULL    |       |
| Regno  | char(12)      | NO   | PRI | NULL    |       |
| Mark   | float(5,2)    | YES  |     | NULL    |       |
| Q_no   | int           | NO   | PRI | NULL    |       |
+--------+---------------+------+-----+---------+-------+

-- insert data
INSERT INTO Quiz (Regno, C_code, C_type, Q_no, Mark)VALUES
('TG/2023/001','ICT1233','T', 1, 85.0),
('TG/2023/001','ICT1233','P', 1, 90.0),
('TG/2023/001','ICT1253','T', 1, 75.0),
('TG/2023/001','ICT1253','P', 1, 50.0),
('TG/2023/001','ICT1242','T', 1, 67.5),
('TG/2023/001','TMS1233','T', 1, 92.0),
('TG/2023/001','ICT1212','T', 1, 95.0),
('TG/2023/001','ICT1222','P', 1, 92.5),
('TG/2023/001','TCS1212','T', 1, 80.0),
('TG/2023/001','ICT1233','T', 2, 62.5),
('TG/2023/001','ICT1233','P', 2, 50.0),
('TG/2023/001','ICT1253','T', 2, 75.0),
('TG/2023/001','ICT1253','P', 2, 67.5),
('TG/2023/001','ICT1242','T', 2, 72.0),
('TG/2023/001','TMS1233','T', 2, 81.0),
('TG/2023/001','ICT1212','T', 2, 87.5),
('TG/2023/001','ICT1222','P', 2, 85.0),
('TG/2023/001','TCS1212','T', 2, 79.0),
('TG/2023/001','ICT1233','T', 3, 70.0),
('TG/2023/001','ICT1233','P', 3, 68.0),
('TG/2023/001','ICT1253','T', 3, 77.5),
('TG/2023/001','ICT1253','P', 3, 80.0),
('TG/2023/001','ICT1242','T', 3, 69.0),
('TG/2023/001','TMS1233','T', 3, 85.0),
('TG/2023/001','ICT1212','T', 3, 90.0),
('TG/2023/001','ICT1222','P', 3, 91.0),
('TG/2023/001','TCS1212','T', 3, 82.5),

('TG/2023/002','ICT1233','T', 1, 80.0),
('TG/2023/002','ICT1233','P', 1, 79.0),
('TG/2023/002','ICT1253','T', 1, 70.0),
('TG/2023/002','ICT1253','P', 1, 67.5),
('TG/2023/002','ICT1242','T', 1, 72.0),
('TG/2023/002','TMS1233','T', 1, 85.0),
('TG/2023/002','ICT1212','T', 1, 80.0),
('TG/2023/002','ICT1222','P', 1, 82.0),
('TG/2023/002','TCS1212','T', 1, 77.5),
('TG/2023/002','ICT1233','T', 2, 78.0),
('TG/2023/002','ICT1233','P', 2, 82.0),
('TG/2023/002','ICT1253','T', 2, 69.0),
('TG/2023/002','ICT1253','P', 2, 75.0),
('TG/2023/002','ICT1242','T', 2, 81.0),
('TG/2023/002','TMS1233','T', 2, 92.5),
('TG/2023/002','ICT1212','T', 2, 86.0),
('TG/2023/002','ICT1222','P', 2, 84.5),
('TG/2023/002','TCS1212','T', 2, 79.5),
('TG/2023/002','ICT1233','T', 3, 81.0),
('TG/2023/002','ICT1233','P', 3, 76.0),
('TG/2023/002','ICT1253','T', 3, 67.5),
('TG/2023/002','ICT1253','P', 3, 65.0),
('TG/2023/002','ICT1242','T', 3, 74.0),
('TG/2023/002','TMS1233','T', 3, 89.0),
('TG/2023/002','ICT1212','T', 3, 87.5),
('TG/2023/002','ICT1222','P', 3, 90.0),
('TG/2023/002','TCS1212','T', 3, 83.0),

('TG/2023/003','ICT1233','T', 1, 87.5),
('TG/2023/003','ICT1233','P', 1, 91.0),
('TG/2023/003','ICT1253','T', 1, 80.0),
('TG/2023/003','ICT1253','P', 1, 78.0),
('TG/2023/003','ICT1242','T', 1, 85.0),
('TG/2023/003','TMS1233','T', 1, 93.0),
('TG/2023/003','ICT1212','T', 1, 90.0),
('TG/2023/003','ICT1222','P', 1, 88.5),
('TG/2023/003','TCS1212','T', 1, 86.0),
('TG/2023/003','ICT1233','T', 2, 69.5),
('TG/2023/003','ICT1233','P', 2, 74.0),
('TG/2023/003','ICT1253','T', 2, 72.5),
('TG/2023/003','ICT1253','P', 2, 68.0),
('TG/2023/003','ICT1242','T', 2, 76.0),
('TG/2023/003','TMS1233','T', 2, 81.0),
('TG/2023/003','ICT1212','T', 2, 85.0),
('TG/2023/003','ICT1222','P', 2, 87.0),
('TG/2023/003','TCS1212','T', 2, 78.5),
('TG/2023/003','ICT1233','T', 3, 80.0),
('TG/2023/003','ICT1233','P', 3, 72.0),
('TG/2023/003','ICT1253','T', 3, 65.0),
('TG/2023/003','ICT1253','P', 3, 70.0),
('TG/2023/003','ICT1242','T', 3, 82.5),
('TG/2023/003','TMS1233','T', 3, 86.0),
('TG/2023/003','ICT1212','T', 3, 91.0),
('TG/2023/003','ICT1222','P', 3, 89.0),
('TG/2023/003','TCS1212','T', 3, 85.0),

('TG/2023/004','ICT1233','T', 1, 83.0),
('TG/2023/004','ICT1233','P', 1, 81.0),
('TG/2023/004','ICT1253','T', 1, 78.0),
('TG/2023/004','ICT1253','P', 1, 80.0),
('TG/2023/004','ICT1242','T', 1, 87.0),
('TG/2023/004','TMS1233','T', 1, 94.0),
('TG/2023/004','ICT1212','T', 1, 91.5),
('TG/2023/004','ICT1222','P', 1, 90.0),
('TG/2023/004','TCS1212','T', 1, 86.0),
('TG/2023/004','ICT1233','T', 2, 80.0);

+---------+--------+-------------+-------+------+
| C_code  | C_type | Regno       | Mark  | Q_no |
+---------+--------+-------------+-------+------+
| ICT1212 | T      | TG/2023/001 | 95.00 |    1 |
| ICT1212 | T      | TG/2023/001 | 87.50 |    2 |
| ICT1212 | T      | TG/2023/001 | 90.00 |    3 |
| ICT1212 | T      | TG/2023/002 | 80.00 |    1 |
| ICT1212 | T      | TG/2023/002 | 86.00 |    2 |
| ICT1212 | T      | TG/2023/002 | 87.50 |    3 |
| ICT1212 | T      | TG/2023/003 | 90.00 |    1 |
| ICT1212 | T      | TG/2023/003 | 85.00 |    2 |
| ICT1212 | T      | TG/2023/003 | 91.00 |    3 |
| ICT1212 | T      | TG/2023/004 | 91.50 |    1 |
| ICT1222 | P      | TG/2023/001 | 92.50 |    1 |
| ICT1222 | P      | TG/2023/001 | 85.00 |    2 |
| ICT1222 | P      | TG/2023/001 | 91.00 |    3 |
| ICT1222 | P      | TG/2023/002 | 82.00 |    1 |
| ICT1222 | P      | TG/2023/002 | 84.50 |    2 |
| ICT1222 | P      | TG/2023/002 | 90.00 |    3 |
| ICT1222 | P      | TG/2023/003 | 88.50 |    1 |
| ICT1222 | P      | TG/2023/003 | 87.00 |    2 |
| ICT1222 | P      | TG/2023/003 | 89.00 |    3 |
| ICT1222 | P      | TG/2023/004 | 90.00 |    1 |
| ICT1233 | P      | TG/2023/001 | 90.00 |    1 |
| ICT1233 | P      | TG/2023/001 | 50.00 |    2 |
| ICT1233 | P      | TG/2023/001 | 68.00 |    3 |
| ICT1233 | P      | TG/2023/002 | 79.00 |    1 |
| ICT1233 | P      | TG/2023/002 | 82.00 |    2 |
| ICT1233 | P      | TG/2023/002 | 76.00 |    3 |
| ICT1233 | P      | TG/2023/003 | 91.00 |    1 |
| ICT1233 | P      | TG/2023/003 | 74.00 |    2 |
| ICT1233 | P      | TG/2023/003 | 72.00 |    3 |
| ICT1233 | P      | TG/2023/004 | 81.00 |    1 |
| ICT1233 | T      | TG/2023/001 | 85.00 |    1 |
| ICT1233 | T      | TG/2023/001 | 62.50 |    2 |
| ICT1233 | T      | TG/2023/001 | 70.00 |    3 |
| ICT1233 | T      | TG/2023/002 | 80.00 |    1 |
| ICT1233 | T      | TG/2023/002 | 78.00 |    2 |
| ICT1233 | T      | TG/2023/002 | 81.00 |    3 |
| ICT1233 | T      | TG/2023/003 | 87.50 |    1 |
| ICT1233 | T      | TG/2023/003 | 69.50 |    2 |
| ICT1233 | T      | TG/2023/003 | 80.00 |    3 |
| ICT1233 | T      | TG/2023/004 | 83.00 |    1 |
| ICT1233 | T      | TG/2023/004 | 80.00 |    2 |
| ICT1242 | T      | TG/2023/001 | 67.50 |    1 |
| ICT1242 | T      | TG/2023/001 | 72.00 |    2 |
| ICT1242 | T      | TG/2023/001 | 69.00 |    3 |
| ICT1242 | T      | TG/2023/002 | 72.00 |    1 |
| ICT1242 | T      | TG/2023/002 | 81.00 |    2 |
| ICT1242 | T      | TG/2023/002 | 74.00 |    3 |
| ICT1242 | T      | TG/2023/003 | 85.00 |    1 |
| ICT1242 | T      | TG/2023/003 | 76.00 |    2 |
| ICT1242 | T      | TG/2023/003 | 82.50 |    3 |
| ICT1242 | T      | TG/2023/004 | 87.00 |    1 |
| ICT1253 | P      | TG/2023/001 | 50.00 |    1 |
| ICT1253 | P      | TG/2023/001 | 67.50 |    2 |
| ICT1253 | P      | TG/2023/001 | 80.00 |    3 |
| ICT1253 | P      | TG/2023/002 | 67.50 |    1 |
| ICT1253 | P      | TG/2023/002 | 75.00 |    2 |
| ICT1253 | P      | TG/2023/002 | 65.00 |    3 |
| ICT1253 | P      | TG/2023/003 | 78.00 |    1 |
| ICT1253 | P      | TG/2023/003 | 68.00 |    2 |
| ICT1253 | P      | TG/2023/003 | 70.00 |    3 |
| ICT1253 | P      | TG/2023/004 | 80.00 |    1 |
| ICT1253 | T      | TG/2023/001 | 75.00 |    1 |
| ICT1253 | T      | TG/2023/001 | 75.00 |    2 |
| ICT1253 | T      | TG/2023/001 | 77.50 |    3 |
| ICT1253 | T      | TG/2023/002 | 70.00 |    1 |
| ICT1253 | T      | TG/2023/002 | 69.00 |    2 |
| ICT1253 | T      | TG/2023/002 | 67.50 |    3 |
| ICT1253 | T      | TG/2023/003 | 80.00 |    1 |
| ICT1253 | T      | TG/2023/003 | 72.50 |    2 |
| ICT1253 | T      | TG/2023/003 | 65.00 |    3 |
| ICT1253 | T      | TG/2023/004 | 78.00 |    1 |
| TCS1212 | T      | TG/2023/001 | 80.00 |    1 |
| TCS1212 | T      | TG/2023/001 | 79.00 |    2 |
| TCS1212 | T      | TG/2023/001 | 82.50 |    3 |
| TCS1212 | T      | TG/2023/002 | 77.50 |    1 |
| TCS1212 | T      | TG/2023/002 | 79.50 |    2 |
| TCS1212 | T      | TG/2023/002 | 83.00 |    3 |
| TCS1212 | T      | TG/2023/003 | 86.00 |    1 |
| TCS1212 | T      | TG/2023/003 | 78.50 |    2 |
| TCS1212 | T      | TG/2023/003 | 85.00 |    3 |
| TCS1212 | T      | TG/2023/004 | 86.00 |    1 |
| TMS1233 | T      | TG/2023/001 | 92.00 |    1 |
| TMS1233 | T      | TG/2023/001 | 81.00 |    2 |
| TMS1233 | T      | TG/2023/001 | 85.00 |    3 |
| TMS1233 | T      | TG/2023/002 | 85.00 |    1 |
| TMS1233 | T      | TG/2023/002 | 92.50 |    2 |
| TMS1233 | T      | TG/2023/002 | 89.00 |    3 |
| TMS1233 | T      | TG/2023/003 | 93.00 |    1 |
| TMS1233 | T      | TG/2023/003 | 81.00 |    2 |
| TMS1233 | T      | TG/2023/003 | 86.00 |    3 |
| TMS1233 | T      | TG/2023/004 | 94.00 |    1 |
+---------+--------+-------------+-------+------+