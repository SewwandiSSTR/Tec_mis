-- Mid
CREATE TABLE Mid_exam(
    C_code CHAR(8) NOT NULL,
    C_type ENUM('P','T') NOT NULL,
    Regno CHAR(12) NOT NULL,
    Mid_mark FLOAT(9,2) NOT NULL CHECK (Mid_mark >= 0 AND Mid_mark <= 100),

    PRIMARY KEY(C_code, C_type, Regno),
    
    -- Foreign key 1: Relate to the Course
    CONSTRAINT fk_MidCourse FOREIGN KEY(C_code, C_type) 
        REFERENCES Course(C_code, C_type)
        ON UPDATE CASCADE, 

    -- Foreign key 2: Relate to the Student
    CONSTRAINT fk_MidStudent FOREIGN KEY(Regno) 
        REFERENCES User(User_id)
        ON UPDATE CASCADE ON DELETE CASCADE
);

+----------+---------------+------+-----+---------+-------+
| Field    | Type          | Null | Key | Default | Extra |
+----------+---------------+------+-----+---------+-------+
| C_code   | char(8)       | NO   | PRI | NULL    |       |
| C_type   | enum('P','T') | NO   | PRI | NULL    |       |
| Regno    | char(12)      | NO   | PRI | NULL    |       |
| Mid_mark | float(9,2)    | NO   |     | NULL    |       |
+----------+---------------+------+-----+---------+-------+

-- insert data
INSERT INTO Mid_Exam(Regno, C_code, C_type, Mid_Mark)VALUES
('TG/2023/001','ICT1233','T', 80.0),
('TG/2023/001','ICT1233','P', 79.0),
('TG/2023/001','ICT1253','T', 70.0),
('TG/2023/001','ICT1253','P', 67.5),
('TG/2023/001','ICT1242','T', 72.0),
('TG/2023/001','TMS1233','T', 85.0),
('TG/2023/001','ICT1212','T', 80.0),
('TG/2023/001','ICT1222','P', 82.0),
('TG/2023/001','TCS1212','T', 77.5),
('TG/2023/001','ENG1222','T', 85.0),

('TG/2023/002','ICT1233','T', 80.0),
('TG/2023/002','ICT1253','T', 88.5),
('TG/2023/002','ICT1253','P', 90.0),
('TG/2023/002','ICT1242','T', 87.0),
('TG/2023/002','TMS1233','T', 81.0),
('TG/2023/002','ICT1212','T', 83.0),
('TG/2023/002','ICT1222','P', 82.0),
('TG/2023/002','TCS1212','T', 77.5),
('TG/2023/002','ENG1222','T', 85.0),

('TG/2023/003','ICT1233','T', 78.5),
('TG/2023/003','ICT1233','P', 89.0),
('TG/2023/003','ICT1253','T', 93.0),
('TG/2023/003','ICT1253','P', 78.0),
('TG/2023/003','ICT1242','T', 88.0),
('TG/2023/003','TMS1233','T', 92.0),
('TG/2023/003','ICT1212','T', 90.0),
('TG/2023/003','ICT1222','P', 85.0),
('TG/2023/003','TCS1212','T', 77.5),
('TG/2023/003','ENG1222','T', 50.0),

('TG/2023/004','ICT1233','T', 86.0),
('TG/2023/004','ICT1233','P', 85.0),
('TG/2023/004','ICT1253','T', 69.5),
('TG/2023/004','ICT1242','T', 72.5),
('TG/2023/004','TMS1233','T', 70.0),
('TG/2023/004','ICT1212','T', 77.5),
('TG/2023/004','ICT1222','P', 84.0),
('TG/2023/004','TCS1212','T', 86.0),
('TG/2023/004','ENG1222','T', 86.5),

('TG/2023/005','ICT1233','T', 78.5),
('TG/2023/005','ICT1233','P', 92.0),
('TG/2023/005','ICT1253','T', 79.5),
('TG/2023/005','ICT1253','P', 95.0),
('TG/2023/005','ICT1242','T', 70.0),
('TG/2023/005','TMS1233','T', 79.5),
('TG/2023/005','ICT1212','T', 87.5),
('TG/2023/005','ICT1222','P', 87.5),
('TG/2023/005','TCS1212','T', 95.0),
('TG/2023/005','ENG1222','T', 85.0),

('TG/2023/006','ICT1233','T', 69.5),
('TG/2023/006','ICT1233','P', 70.0),
('TG/2023/006','ICT1253','T', 84.0),
('TG/2023/006','ICT1253','P', 85.0),
('TG/2023/006','ICT1242','T', 90.5),
('TG/2023/006','TMS1233','T', 78.0),
('TG/2023/006','ICT1212','T', 84.0),
('TG/2023/006','ICT1222','P', 87.5),
('TG/2023/006','TCS1212','T', 93.0), 
('TG/2023/006','ENG1222','T', 95.0),

('TG/2023/007','ICT1233','T', 84.5),
('TG/2023/007','ICT1233','P', 72.0),
('TG/2023/007','ICT1253','P', 69.0),
('TG/2023/007','ICT1242','T', 93.5),
('TG/2023/007','TMS1233','T', 57.5),
('TG/2023/007','ICT1212','T', 80.0),
('TG/2023/007','ICT1222','P', 91.0),
('TG/2023/007','TCS1212','T', 78.5),
('TG/2023/007','ENG1222','T', 62.5),

('TG/2023/008','ICT1233','T', 85.0),
('TG/2023/008','ICT1233','P', 92.0),
('TG/2023/008','ICT1253','T', 81.5),
('TG/2023/008','ICT1253','P', 71.0),
('TG/2023/008','ICT1242','T', 71.0),
('TG/2023/008','TMS1233','T', 90.5),
('TG/2023/008','ICT1212','T', 58.0),
('TG/2023/008','ICT1222','P', 86.5),
('TG/2023/008','TCS1212','T', 72.5),
('TG/2023/008','ENG1222','T', 93.5),

('TG/2023/009','ICT1233','T', 67.0),
('TG/2023/009','ICT1253','T', 67.0),
('TG/2023/009','ICT1253','P', 85.0),
('TG/2023/009','ICT1242','T', 57.5),
('TG/2023/009','TMS1233','T', 91.0),
('TG/2023/009','ICT1212','T', 78.5),
('TG/2023/009','ICT1222','P', 62.5),
('TG/2023/009','TCS1212','T', 85.0),
('TG/2023/009','ENG1222','T', 66.0),

('TG/2023/010','ICT1233','T', 85.0),
('TG/2023/010','ICT1233','P', 76.0),
('TG/2023/010','ICT1253','T', 71.0),
('TG/2023/010','ICT1253','P', 90.5),
('TG/2023/010','ICT1242','T', 91.5),
('TG/2023/010','TMS1233','T', 93.5),
('TG/2023/010','ICT1212','T', 50.0),
('TG/2023/010','ICT1222','P', 88.0),
('TG/2023/010','TCS1212','T', 66.0),

('TG/2021/023','ICT1242','T', 90.5),

('TG/2021/088','TMS1233','T', 85.0);

+---------+--------+-------------+----------+
| C_code  | C_type | Regno       | Mid_mark |
+---------+--------+-------------+----------+
| ENG1222 | T      | TG/2023/001 |    85.00 |
| ENG1222 | T      | TG/2023/002 |    85.00 |
| ENG1222 | T      | TG/2023/003 |    50.00 |
| ENG1222 | T      | TG/2023/004 |    86.50 |
| ENG1222 | T      | TG/2023/005 |    85.00 |
| ENG1222 | T      | TG/2023/006 |    95.00 |
| ENG1222 | T      | TG/2023/007 |    62.50 |
| ENG1222 | T      | TG/2023/008 |    93.50 |
| ENG1222 | T      | TG/2023/009 |    66.00 |
| ICT1212 | T      | TG/2023/001 |    80.00 |
| ICT1212 | T      | TG/2023/002 |    83.00 |
| ICT1212 | T      | TG/2023/003 |    90.00 |
| ICT1212 | T      | TG/2023/004 |    77.50 |
| ICT1212 | T      | TG/2023/005 |    87.50 |
| ICT1212 | T      | TG/2023/006 |    84.00 |
| ICT1212 | T      | TG/2023/007 |    80.00 |
| ICT1212 | T      | TG/2023/008 |    58.00 |
| ICT1212 | T      | TG/2023/009 |    78.50 |
| ICT1212 | T      | TG/2023/010 |    50.00 |
| ICT1222 | P      | TG/2023/001 |    82.00 |
| ICT1222 | P      | TG/2023/002 |    82.00 |
| ICT1222 | P      | TG/2023/003 |    85.00 |
| ICT1222 | P      | TG/2023/004 |    84.00 |
| ICT1222 | P      | TG/2023/005 |    87.50 |
| ICT1222 | P      | TG/2023/006 |    87.50 |
| ICT1222 | P      | TG/2023/007 |    91.00 |
| ICT1222 | P      | TG/2023/008 |    86.50 |
| ICT1222 | P      | TG/2023/009 |    62.50 |
| ICT1222 | P      | TG/2023/010 |    88.00 |
| ICT1233 | P      | TG/2023/001 |    79.00 |
| ICT1233 | P      | TG/2023/003 |    89.00 |
| ICT1233 | P      | TG/2023/004 |    85.00 |
| ICT1233 | P      | TG/2023/005 |    92.00 |
| ICT1233 | P      | TG/2023/006 |    70.00 |
| ICT1233 | P      | TG/2023/007 |    72.00 |
| ICT1233 | P      | TG/2023/008 |    92.00 |
| ICT1233 | P      | TG/2023/010 |    76.00 |
| ICT1233 | T      | TG/2023/001 |    80.00 |
| ICT1233 | T      | TG/2023/002 |    80.00 |
| ICT1233 | T      | TG/2023/003 |    78.50 |
| ICT1233 | T      | TG/2023/004 |    86.00 |
| ICT1233 | T      | TG/2023/005 |    78.50 |
| ICT1233 | T      | TG/2023/006 |    69.50 |
| ICT1233 | T      | TG/2023/007 |    84.50 |
| ICT1233 | T      | TG/2023/008 |    85.00 |
| ICT1233 | T      | TG/2023/009 |    67.00 |
| ICT1233 | T      | TG/2023/010 |    85.00 |
| ICT1242 | T      | TG/2021/023 |    90.50 |
| ICT1242 | T      | TG/2023/001 |    72.00 |
| ICT1242 | T      | TG/2023/002 |    87.00 |
| ICT1242 | T      | TG/2023/003 |    88.00 |
| ICT1242 | T      | TG/2023/004 |    72.50 |
| ICT1242 | T      | TG/2023/005 |    70.00 |
| ICT1242 | T      | TG/2023/006 |    90.50 |
| ICT1242 | T      | TG/2023/007 |    93.50 |
| ICT1242 | T      | TG/2023/008 |    71.00 |
| ICT1242 | T      | TG/2023/009 |    57.50 |
| ICT1242 | T      | TG/2023/010 |    91.50 |
| ICT1253 | P      | TG/2023/001 |    67.50 |
| ICT1253 | P      | TG/2023/002 |    90.00 |
| ICT1253 | P      | TG/2023/003 |    78.00 |
| ICT1253 | P      | TG/2023/005 |    95.00 |
| ICT1253 | P      | TG/2023/006 |    85.00 |
| ICT1253 | P      | TG/2023/007 |    69.00 |
| ICT1253 | P      | TG/2023/008 |    71.00 |
| ICT1253 | P      | TG/2023/009 |    85.00 |
| ICT1253 | P      | TG/2023/010 |    90.50 |
| ICT1253 | T      | TG/2023/001 |    70.00 |
| ICT1253 | T      | TG/2023/002 |    88.50 |
| ICT1253 | T      | TG/2023/003 |    93.00 |
| ICT1253 | T      | TG/2023/004 |    69.50 |
| ICT1253 | T      | TG/2023/005 |    79.50 |
| ICT1253 | T      | TG/2023/006 |    84.00 |
| ICT1253 | T      | TG/2023/008 |    81.50 |
| ICT1253 | T      | TG/2023/009 |    67.00 |
| ICT1253 | T      | TG/2023/010 |    71.00 |
| TCS1212 | T      | TG/2023/001 |    77.50 |
| TCS1212 | T      | TG/2023/002 |    77.50 |
| TCS1212 | T      | TG/2023/003 |    77.50 |
| TCS1212 | T      | TG/2023/004 |    86.00 |
| TCS1212 | T      | TG/2023/005 |    95.00 |
| TCS1212 | T      | TG/2023/006 |    93.00 |
| TCS1212 | T      | TG/2023/007 |    78.50 |
| TCS1212 | T      | TG/2023/008 |    72.50 |
| TCS1212 | T      | TG/2023/009 |    85.00 |
| TCS1212 | T      | TG/2023/010 |    66.00 |
| TMS1233 | T      | TG/2021/088 |    85.00 |
| TMS1233 | T      | TG/2023/001 |    85.00 |
| TMS1233 | T      | TG/2023/002 |    81.00 |
| TMS1233 | T      | TG/2023/003 |    92.00 |
| TMS1233 | T      | TG/2023/004 |    70.00 |
| TMS1233 | T      | TG/2023/005 |    79.50 |
| TMS1233 | T      | TG/2023/006 |    78.00 |
| TMS1233 | T      | TG/2023/007 |    57.50 |
| TMS1233 | T      | TG/2023/008 |    90.50 |
| TMS1233 | T      | TG/2023/009 |    91.00 |
| TMS1233 | T      | TG/2023/010 |    93.50 |
+---------+--------+-------------+----------+
